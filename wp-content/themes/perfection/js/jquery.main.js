$(function(){$(document).on("invalid.wpcf7",function(){$(".contact-form").find("fieldset").removeClass("novalid"),$(".contact-form").find(".wpcf7-not-valid-tip").each(function(){$(this).parents("fieldset").addClass("novalid")})}),$.each($(".anchor"),function(){new Anchor($(this))}),$.each($(".drop-menu"),function(){new Menu($(this))}),$.each($(".pixel-grid__slider"),function(){new SliderSingle($(this))}),$.each($(".formats__slider"),function(){new SliderFormats($(this))}),$.each($(".message-field"),function(){new MessageHigh($(this))})});var Anchor=function(e){var i=e,t=$(".site__header"),n=$("html, body"),s=function(){i.on({click:function(){return n.animate({scrollTop:$($.attr(this,"href")).offset().top},600),t.addClass("site__header_hidden"),!1}})},o=function(){s()};o()},MessageHigh=function(e){var i=e,t=i.find(".contact-form__message"),n=i.find(".message-field__text"),s=i.find(".message-field__height"),o=function(){i.on({keydown:function(){n.html(t.val()+"___"),t.css("height",n.height()+25),s.css("height",n.height())}})},a=function(){o()};a()},Menu=function(e){var i,t=e,n=$(".drop-menu-btn"),s=$(".site__header"),o=$(".pages__item"),a=t.find("#scroll-wrap"),r=t.find("#scroll-wrap > div"),l=!1,c=$(".site"),d=$(window),f=function(){n.on({click:function(){return s.hasClass("site__header_drop-menu")?(c.css("height","auto"),d.scrollTop(siteScrollTop),s.removeClass("site__header_drop-menu"),!1):(s.addClass("site__header_drop-menu"),siteScrollTop=d.scrollTop(),setTimeout(function(){c.css("height","100%")},300),!1)}}),d.on({scroll:function(){l=d.scrollTop()>=s.innerHeight(),h(),v()},DOMMouseScroll:function(e){var i=e.originalEvent.detail;if(i){var t=i>0?1:-1;_(t)}},mousewheel:function(e){var i=e.originalEvent.wheelDelta;if(i){var t=i>0?-1:1;_(t)}},touchmove:function(e){var t=e.originalEvent.touches[0].clientY;t>i?_(-1):i>t&&_(1),i=t}})},h=function(){o.each(function(){var e=$(this).offset().top,i=$(this).height(),t=160;e<=d.scrollTop()&&(s.removeClass("white"),s.addClass($(this).data("header-color"))),e<=d.scrollTop()+i-t&&e+i+t>=d.scrollTop()&&$(this).addClass("active")})},u=function(){a.css("height",r.height()),m()},v=function(){d.scrollTop()>0?s.addClass("header-scroll"):s.removeClass("header-scroll")},_=function(e){e>0&&!s.hasClass("site__header_hidden")&&l&&s.addClass("site__header_hidden"),0>e&&s.hasClass("site__header_hidden")&&l&&s.removeClass("site__header_hidden")},m=function(){new IScroll("#scroll-wrap",{mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0,shrinkScrollbars:"scale",click:!0})},g=function(){h(),u(),v(),f()};g()},SliderFormats=function(e){var i,t=this,n=e,s=n.find(">div"),o=s.find(".formats__slider-item"),a=o.find(".formats__slider-arrow"),r=s.find(".formats__slider-text"),l=r.find(">div"),c=0,d=$(window),f=function(){o.on({mouseenter:function(){d.width()>=992&&h($(this))}}),o.on({click:function(){return d.width()<992&&(h($(this)),clearInterval(i),v()),!1}}),n.on({mouseenter:function(){clearInterval(i)},mouseleave:function(){v()}}),d.on({resize:function(){u()}})},h=function(e){var t=e.index(),n=l.eq(t);o.removeClass("active"),e.addClass("active"),l.removeClass("visible"),n.addClass("visible"),clearInterval(i)},u=function(){c=d.width()<550?20:d.width()>=550&&d.width()<1200?70:54;var e=(s.width()+c)/2+"px",i=-90,t=o.length,n=360/t;o.each(function(t){var s=$(this),o=n*t+i,a=-1*o;s.css({"-webkit-transform":"rotate("+o+"deg) translate("+e+") rotate("+a+"deg)",transform:"rotate("+o+"deg) translate("+e+") rotate("+a+"deg)"})}),a.each(function(e){var t=$(this),s=n*e+i,o=-1*s,a=n*e;t.css({"-webkit-transform":"rotate("+s+"deg) rotate("+(o+a)+"deg)",transform:"rotate("+s+"deg) rotate("+(o+a)+"deg)"})})},v=function(){i=setInterval(function(){var e=o.filter(".active"),i=e.next(),t=i.index(),n=l.eq(t);-1==i.index()&&(i=o.eq(0),n=l.eq(0)),o.removeClass("active"),l.removeClass("visible"),i.addClass("active"),n.addClass("visible")},5e3)},_=function(){setTimeout(function(){var e=o.filter(".active"),i=e.index(),t=l.eq(i);t.addClass("visible"),r.addClass("visible-text"),v()},2e3)},m=function(){n[0].obj=t,u(),_(),f()};m()},SliderSingle=function(e){var i,t=this,n=e,s=n.find(".swiper-container"),o=function(){i=new Swiper(s,{pagination:$(".swiper-pagination"),paginationClickable:!0,loop:!0})},a=function(){o(),n[0].obj=t};a()};